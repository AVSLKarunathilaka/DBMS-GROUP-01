DELIMITER //

CREATE PROCEDURE GetMarksByCourseCodeAndRegNo(
    IN p_course_code VARCHAR(25),
    IN p_registration_number VARCHAR(25)
)
BEGIN
    SELECT 
        ac.name AS assessment_type,
        m.mark
    FROM Mark m
    JOIN AssessmentComponent ac ON m.assessment_id = ac.assessment_id
    JOIN Student s ON m.student_id = s.user_id
    WHERE ac.course_code = p_course_code
      AND s.registration_no = p_registration_number
    ORDER BY ac.name;
END //

DELIMITER ;