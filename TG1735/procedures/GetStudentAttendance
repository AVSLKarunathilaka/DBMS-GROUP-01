DELIMITER //

CREATE PROCEDURE GetStudentAttendance(IN p_registration_number VARCHAR(15))
BEGIN
    SELECT 
        se.course_code,
        a.status,
        se.session_number,
        se.date
    FROM Attendance a
    JOIN Session se ON a.session_id = se.session_id
    JOIN Student s ON a.student_id = s.user_id
    WHERE s.registration_no = p_registration_number
    ORDER BY se.course_code, se.session_number;
END;
//

DELIMITER ;